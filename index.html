<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bangla Typing Practice - ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ </title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --primary: #38bdf8;
            --success: #4ade80;
            --error: #f87171;
            --text: #f8fafc;
            --font-main: 'Kalpurush', 'Arial', sans-serif;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            font-family: var(--font-main); 
        }
        
        body {
            background: radial-gradient(circle at top left, #1e293b, var(--bg-color));
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 900px;
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
        }

        header {
            text-align: center;
            margin-bottom: 25px;
        }

        h1 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, var(--primary), #818cf8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .badge {
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 15px;
        }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        select, button {
            padding: 12px 18px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.2);
            background: #1e293b;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            min-width: 150px;
        }

        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
            position: relative;
            z-index: 10;
        }

        select option {
            background: #1e293b;
            color: white;
            padding: 12px;
            border: none;
        }

        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.2);
        }

        select::-ms-expand {
            display: none;
        }

        button {
            background: var(--primary);
            border: none;
            font-weight: bold;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(56, 189, 248, 0.4);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .feature-card {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .feature-card.active {
            background: rgba(56, 189, 248, 0.2);
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .feature-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .typing-area {
            background: rgba(0,0,0,0.3);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid transparent;
            transition: 0.3s;
        }

        .typing-area:focus-within {
            border-color: var(--primary);
        }

        .typing-prompt {
            font-size: 1.8rem;
            line-height: 1.6;
            margin-bottom: 20px;
            min-height: 120px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 8px;
        }

        .word {
            display: inline-block;
            padding: 8px 12px;
            margin: 2px;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .word.active {
            background: rgba(56, 189, 248, 0.3);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.5);
            border-color: var(--primary);
        }

        .word.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 10%;
            width: 80%;
            height: 3px;
            background: var(--primary);
            animation: blink 1s infinite;
            border-radius: 2px;
        }

        .word.completed {
            color: var(--success);
            background: rgba(74, 222, 128, 0.15);
            border-color: var(--success);
        }

        .word.error {
            color: var(--error);
            background: rgba(248, 113, 113, 0.15);
            border-color: var(--error);
            animation: shake 0.5s;
        }

        .char-highlight {
            position: relative;
            display: inline;
        }

        .char-highlight.correct {
            color: var(--success);
        }

        .char-highlight.wrong {
            color: var(--error);
            animation: shake 0.3s;
        }

        .current-char {
            position: relative;
            display: inline;
        }

        .current-char::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
            animation: blink 0.8s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }

        .typing-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: none;
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            color: white;
            text-align: center;
            outline: none;
            transition: 0.3s;
        }

        .typing-input:focus {
            box-shadow: 0 0 0 2px var(--primary);
        }

        .progress-container {
            width: 100%;
            height: 6px;
            background: #334155;
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            width: 0%;
            transition: width 0.3s ease;
        }

        .suggestions {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .suggestions h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .suggestion-item {
            padding: 8px 12px;
            margin: 5px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            border-left: 3px solid var(--primary);
        }

        footer {
            text-align: center;
            margin-top: 30px;
            color: #64748b;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .features {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .typing-prompt {
                font-size: 1.4rem;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .word {
                padding: 6px 10px;
                font-size: 1.4rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            select, button {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>

<script type='text/javascript' src='//pl28151752.effectivegatecpm.com/ed/d4/1a/edd41ab8c620d95575f94469f74a1d51.js'></script>



</head>
<body>
    <div class="container">
       
		<script type="text/javascript">
	atOptions = {
		'key' : '2677dc16957c0639b53fcaaa8d47d2fc',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/2677dc16957c0639b53fcaaa8d47d2fc/invoke.js"></script>

		
		<header>
            <h1>Bangla Typing Practice</h1>
            <div class="badge">Practice And Learn</div>
        </header>

        <div class="controls">
            <select id="layoutSelect">
                <option value="bijoy">‡¶¨‡¶ø‡¶ú‡ßü ‡¶¨‡¶æ‡ßü‡¶æ‡¶®‡ßç‡¶®</option>
                <option value="avro">‡¶Ö‡¶≠‡ßç‡¶∞</option>
                <option value="proborno">‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶§</option>
                <option value="unicode">‡¶á‡¶â‡¶®‡¶ø‡¶ï‡ßã‡¶°</option>
            </select>
            <select id="levelSelect">
                <option value="letters">‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞</option>
                <option value="words">‡¶∂‡¶¨‡ßç‡¶¶</option>
                <option value="sentences">‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø</option>
                <option value="paragraphs">‡¶Ö‡¶®‡ßÅ‡¶ö‡ßç‡¶õ‡ßá‡¶¶</option>
            </select>
            <button id="resetBtn">üîÑ ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
            <button id="tipsBtn">üí° ‡¶ü‡¶ø‡¶™‡¶∏</button>
        </div>

        <div class="features">
            <div class="feature-card active" data-type="letters">
                <h3>üî§ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞</h3>
                <p>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶¨‡¶∞‡ßç‡¶£‡¶Æ‡¶æ‡¶≤‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®</p>
            </div>
            <div class="feature-card" data-type="words">
                <h3>üìù ‡¶∂‡¶¨‡ßç‡¶¶</h3>
                <p>‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∂‡¶¨‡ßç‡¶¶ ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç</p>
            </div>
            <div class="feature-card" data-type="sentences">
                <h3>üí¨ ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø</h3>
                <p>‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç</p>
            </div>
            <div class="feature-card" data-type="paragraphs">
                <h3>üìö ‡¶Ö‡¶®‡ßÅ‡¶ö‡ßç‡¶õ‡ßá‡¶¶</h3>
                <p>‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶æ‡¶ô‡ßç‡¶ó ‡¶Ö‡¶®‡ßÅ‡¶ö‡ßç‡¶õ‡ßá‡¶¶</p>
            </div>
        </div>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">‡¶∂‡¶¨‡ßç‡¶¶/‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="accuracy">100%</div>
                <div class="stat-label">‡¶∏‡¶†‡¶ø‡¶ï‡¶§‡¶æ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="timer">0s</div>
                <div class="stat-label">‡¶∏‡¶Æ‡¶Ø‡¶º</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">‡¶∏‡ßç‡¶ï‡ßã‡¶∞</div>
            </div>
        </div>

        <div class="typing-area">
            <div class="typing-prompt" id="typingPrompt">
                ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶Ö‡¶™‡¶∂‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®...
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <input type="text" class="typing-input" id="typingInput" 
                   placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®..." autocomplete="off" spellcheck="false">
        </div>

        <div class="suggestions" id="suggestions">
            <h4>üí° ‡¶â‡¶®‡ßç‡¶®‡¶§‡¶ø‡¶∞ ‡¶ü‡¶ø‡¶™‡¶∏:</h4>
            <div id="suggestionsContent"></div>
        </div>

      <script type="text/javascript">
	atOptions = {
		'key' : 'dd3bd5d93c728946412a0ddc1e799302',
		'format' : 'iframe',
		'height' : 250,
		'width' : 300,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/dd3bd5d93c728946412a0ddc1e799302/invoke.js"></script>
		
		<footer>
            ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡¶æ‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø ‡•§
        </footer>
    </div>

    <script>
        // Expanded Bengali Content Database
        const contentDatabase = {
            letters: [
                "‡ßú", "‡ßù", "‡ßü", "‡¶∞", "‡¶Ö", "‡¶Ü", "‡¶á", "‡¶à", "‡¶â", "‡¶ä", "‡¶ã", "‡¶è", "‡¶ê", "‡¶ì", "‡¶î",
                "‡¶ï", "‡¶ñ", "‡¶ó", "‡¶ò", "‡¶ô", 
                "‡¶ö", "‡¶õ", "‡¶ú", "‡¶ù", "‡¶û",
                "‡¶ü", "‡¶†", "‡¶°", "‡¶¢", "‡¶£",
                "‡¶§", "‡¶•", "‡¶¶", "‡¶ß", "‡¶®",
                "‡¶™", "‡¶´", "‡¶¨", "‡¶≠", "‡¶Æ",
                "‡¶Ø", "‡¶≤", "‡¶∂", "‡¶∑", "‡¶∏", "‡¶π",
                "‡ßé", "‡¶Ç", "‡¶É", "‡¶Å",
                "‡¶ï‡ßç‡¶∑", "‡¶ú‡ßç‡¶û", "‡¶∂‡ßç‡¶∞", "‡¶∏‡ßç‡¶ï", "‡¶∏‡ßç‡¶§", "‡¶∏‡ßç‡¶™", "‡¶∏‡ßç‡¶¨",
                "‡¶§‡ßç‡¶∞", "‡¶¶‡ßç‡¶¶", "‡¶¶‡ßç‡¶ß", "‡¶¶‡ßç‡¶≠", "‡¶®‡ßç‡¶§", "‡¶®‡ßç‡¶¶", "‡¶Æ‡ßç‡¶™"
            ],
            
            words: [
                "‡ßú", "‡ßù", "‡ßü", "‡¶∞", "‡¶¨‡ßú", "‡¶ó‡¶æ‡ßú‡¶ø", "‡¶¶‡ßú‡¶ø", "‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø", "‡¶ï‡ßú‡¶æ", "‡¶∏‡ßú‡¶ï",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ", "‡¶≠‡¶æ‡¶∑‡¶æ", "‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑", "‡¶¶‡ßá‡¶∂", "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ", "‡¶¨‡¶á", "‡¶ú‡¶≤", "‡¶´‡¶≤", "‡¶´‡ßÅ‡¶≤", "‡¶¨‡¶æ‡¶°‡¶º‡¶ø",
                "‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ", "‡¶ó‡¶æ‡¶°‡¶º‡¶ø", "‡¶ü‡¶æ‡¶ï‡¶æ", "‡¶∏‡¶Æ‡¶Ø‡¶º", "‡¶ï‡¶æ‡¶ú", "‡¶ï‡¶•‡¶æ", "‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø", "‡¶ö‡¶æ‡¶Å‡¶¶", "‡¶§‡¶æ‡¶∞‡¶æ", "‡¶Ü‡¶ï‡¶æ‡¶∂",
                "‡¶Æ‡ßá‡¶ò", "‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø", "‡¶ñ‡ßá‡¶≤‡¶æ", "‡¶ó‡¶æ‡¶®", "‡¶ï‡¶¨‡¶ø‡¶§‡¶æ", "‡¶ó‡¶≤‡ßç‡¶™", "‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏", "‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø", "‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø", "‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®",
                "‡¶¨‡¶æ‡¶¨‡¶æ", "‡¶Æ‡¶æ", "‡¶≠‡¶æ‡¶á", "‡¶¨‡ßã‡¶®", "‡¶õ‡ßá‡¶≤‡ßá", "‡¶Æ‡ßá‡¶Ø‡¶º‡ßá", "‡¶¶‡¶æ‡¶¶‡¶æ", "‡¶¶‡¶æ‡¶¶‡ßÄ", "‡¶®‡¶æ‡¶®‡¶æ", "‡¶®‡¶æ‡¶®‡ßÄ",
                "‡¶ö‡¶æ‡¶ö‡¶æ", "‡¶ö‡¶æ‡¶ö‡ßÄ", "‡¶Æ‡¶æ‡¶Æ‡¶æ", "‡¶Æ‡¶æ‡¶Æ‡ßÄ", "‡¶ñ‡¶æ‡¶≤‡¶æ", "‡¶ñ‡¶æ‡¶≤‡ßÅ", "‡¶´‡ßÅ‡¶´‡¶æ", "‡¶´‡ßÅ‡¶´‡ßÅ", "‡¶ú‡ßá‡¶†‡¶æ", "‡¶ú‡ßá‡¶†‡ßÄ",
                "‡¶ó‡¶∞‡ßÅ", "‡¶õ‡¶æ‡¶ó‡¶≤", "‡¶Æ‡ßÅ‡¶∞‡¶ó‡¶ø", "‡¶π‡¶æ‡¶Å‡¶∏", "‡¶Æ‡¶æ‡¶õ", "‡¶¨‡¶æ‡¶ò", "‡¶∏‡¶ø‡¶Ç‡¶π", "‡¶π‡¶æ‡¶§‡¶ø", "‡¶ò‡ßã‡¶°‡¶º‡¶æ", "‡¶ï‡ßÅ‡¶ï‡ßÅ‡¶∞",
                "‡¶ó‡¶æ‡¶õ", "‡¶´‡¶≤", "‡¶´‡ßÅ‡¶≤", "‡¶ò‡¶æ‡¶∏", "‡¶™‡¶æ‡¶§‡¶æ", "‡¶°‡¶æ‡¶≤", "‡¶∂‡¶æ‡¶ñ‡¶æ", "‡¶¨‡¶®", "‡¶ú‡¶ô‡ßç‡¶ó‡¶≤", "‡¶¨‡¶æ‡¶ó‡¶æ‡¶®",
                "‡¶®‡¶¶‡ßÄ", "‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞", "‡¶™‡¶æ‡¶π‡¶æ‡¶°‡¶º", "‡¶™‡¶∞‡ßç‡¶¨‡¶§", "‡¶Æ‡¶æ‡¶†", "‡¶ú‡¶Æ‡¶ø", "‡¶¨‡¶æ‡¶≤‡¶ø", "‡¶™‡¶æ‡¶®‡¶ø", "‡¶¨‡¶æ‡¶§‡¶æ‡¶∏", "‡¶Ü‡¶ó‡ßÅ‡¶®"
            ],
            
            sentences: [
                "‡¶¨‡ßú ‡¶ó‡¶æ‡¶õ‡¶ü‡¶ø ‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá ‡¶¶‡¶æ‡¶Å‡ßú‡¶ø‡ßü‡ßá ‡¶Ü‡¶õ‡ßá‡•§",
                "‡¶¨‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶§‡ßá ‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶æ ‡¶≠‡¶ø‡¶ú‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§",
                "‡¶ó‡¶æ‡ßú‡¶ø ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶∏‡ßú‡¶ï ‡¶∏‡¶§‡¶∞‡ßç‡¶ï ‡¶•‡¶æ‡¶ï‡ßÅ‡¶®‡•§",
                "‡¶¶‡ßú‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶Å‡¶ß‡ßÅ‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü‡¶ü‡¶ø‡•§",
                "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶∏‡ßã‡¶®‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶Ø‡¶º ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶ø‡•§",
                "‡¶ö‡¶ø‡¶∞‡¶¶‡¶ø‡¶® ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∂ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶§‡¶æ‡¶∏ ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶æ‡¶£‡ßá ‡¶¨‡¶æ‡¶ú‡¶æ‡¶Ø‡¶º ‡¶¨‡¶æ‡¶Å‡¶∂‡¶ø‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶§‡ßÉ‡¶≠‡¶æ‡¶∑‡¶æ‡•§",
                "‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∏‡¶¨‡¶æ‡¶á ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßÄ‡•§",
                "‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶ú‡¶æ‡¶§‡¶ø‡¶∞ ‡¶Æ‡ßá‡¶∞‡ßÅ‡¶¶‡¶®‡ßç‡¶°‡•§",
                "‡¶Ü‡¶ú ‡¶ñ‡ßÅ‡¶¨ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶Ü‡¶¨‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶¶‡ßá‡¶∂‡•§",
                "‡¶®‡¶¶‡ßÄ‡¶Æ‡¶æ‡¶§‡ßÉ‡¶ï ‡¶¶‡ßá‡¶∂ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶è‡¶á ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡•§",
                "‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∞ ‡¶ö‡¶ø‡¶§‡ßç‡¶∞ ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Æ‡¶®‡ßã‡¶∞‡¶Æ‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑ ‡¶ñ‡ßÅ‡¶¨ ‡¶™‡¶∞‡¶ø‡¶∂‡ßç‡¶∞‡¶Æ‡ßÄ‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ï‡ßÉ‡¶§‡¶ø ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡¶Æ‡ßÉ‡¶¶‡ßç‡¶ß‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑ ‡¶Ö‡¶§‡¶ø‡¶•‡¶ø‡¶™‡¶∞‡¶æ‡¶Ø‡¶º‡¶£‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá ‡¶õ‡¶Ø‡¶º‡¶ü‡¶ø ‡¶ã‡¶§‡ßÅ ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶´‡ßÅ‡¶≤ ‡¶∂‡¶æ‡¶™‡¶≤‡¶æ‡•§",
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶™‡¶æ‡¶ñ‡¶ø ‡¶¶‡ßã‡¶Ø‡¶º‡ßá‡¶≤‡•§"
            ],
            
            paragraphs: [
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø ‡¶π‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶¨‡¶õ‡¶∞‡ßá‡¶∞ ‡¶™‡ßÅ‡¶∞‡¶®‡ßã ‡¶ê‡¶§‡¶ø‡¶π‡ßç‡¶Ø ‡¶¨‡¶π‡¶® ‡¶ï‡¶∞‡ßá‡•§ ‡¶ö‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡¶¶ ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶ß‡ßÅ‡¶®‡¶ø‡¶ï ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶ø‡¶ß ‡¶ß‡¶æ‡¶∞‡¶æ ‡¶∞‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶∞‡¶¨‡ßÄ‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶®‡¶æ‡¶• ‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞, ‡¶ï‡¶æ‡¶ú‡ßÄ ‡¶®‡¶ú‡¶∞‡ßÅ‡¶≤ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ, ‡¶¨‡¶ô‡ßç‡¶ï‡¶ø‡¶Æ‡¶ö‡¶®‡ßç‡¶¶‡ßç‡¶∞ ‡¶ö‡¶ü‡ßç‡¶ü‡ßã‡¶™‡¶æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º, ‡¶∂‡¶∞‡ßé‡¶ö‡¶®‡ßç‡¶¶‡ßç‡¶∞ ‡¶ö‡¶ü‡ßç‡¶ü‡ßã‡¶™‡¶æ‡¶ß‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶Æ‡ßÅ‡¶ñ ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø‡¶ø‡¶ï ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø‡¶ï‡ßá ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨ ‡¶¶‡¶∞‡¶¨‡¶æ‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶ì ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ó‡¶∞‡ßç‡¶¨‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶¶‡•§",
                
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß ‡¶¨‡¶æ‡¶ô‡¶æ‡¶≤‡¶ø ‡¶ú‡¶æ‡¶§‡¶ø‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ó‡ßå‡¶∞‡¶¨‡¶Æ‡¶Ø‡¶º ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º‡•§ ‡ßß‡ßØ‡ß≠‡ßß ‡¶∏‡¶æ‡¶≤‡ßá ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑ ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶ì ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø‡¶∞ ‡¶Ö‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡¶≤‡•§ ‡¶è‡¶á ‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶∏‡ßç‡¶¨‡¶æ‡¶ß‡ßÄ‡¶®‡¶§‡¶æ‡¶á ‡¶®‡¶Ø‡¶º, ‡¶¨‡¶æ‡¶ô‡¶æ‡¶≤‡¶ø ‡¶ú‡¶æ‡¶§‡¶ø‡¶∞ ‡¶∏‡ßç‡¶¨‡¶ï‡ßÄ‡¶Ø‡¶º‡¶§‡¶æ ‡¶ì ‡¶∏‡¶æ‡¶Ç‡¶∏‡ßç‡¶ï‡ßÉ‡¶§‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶ö‡¶Ø‡¶º‡¶ì ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡¶≤‡•§ ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß‡ßá‡¶∞ ‡¶ö‡ßá‡¶§‡¶®‡¶æ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡•§",
                
                "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶•‡¶®‡ßÄ‡¶§‡¶ø ‡¶ï‡ßÉ‡¶∑‡¶ø, ‡¶∂‡¶ø‡¶≤‡ßç‡¶™ ‡¶ì ‡¶∏‡ßá‡¶¨‡¶æ ‡¶ñ‡¶æ‡¶§‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶®‡ßç‡¶¨‡¶Ø‡¶º‡ßá ‡¶ó‡¶†‡¶ø‡¶§‡•§ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶™‡¶£‡ßç‡¶Ø ‡¶ß‡¶æ‡¶®, ‡¶™‡¶æ‡¶ü, ‡¶ö‡¶æ, ‡¶ó‡¶Æ, ‡¶Ü‡¶ñ, ‡¶°‡¶æ‡¶≤, ‡¶§‡ßá‡¶≤‡¶¨‡ßÄ‡¶ú, ‡¶´‡¶≤‡¶Æ‡ßÇ‡¶≤ ‡¶ì ‡¶∂‡¶æ‡¶ï‡¶∏‡¶¨‡¶ú‡¶ø‡•§ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶∂‡¶ø‡¶≤‡ßç‡¶™ ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡ßã‡¶∂‡¶æ‡¶ï, ‡¶ì‡¶∑‡ßÅ‡¶ß, ‡¶∏‡¶ø‡¶Æ‡ßá‡¶®‡ßç‡¶ü, ‡¶ö‡¶æ‡¶Æ‡¶°‡¶º‡¶æ, ‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï‡ßç‡¶∏ ‡¶ì ‡¶Æ‡¶æ‡¶õ‡•§ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶∞‡¶™‡ßç‡¶§‡¶æ‡¶®‡¶ø ‡¶™‡¶£‡ßç‡¶Ø ‡¶™‡ßã‡¶∂‡¶æ‡¶ï, ‡¶™‡¶æ‡¶ü ‡¶ì ‡¶™‡¶æ‡¶ü‡¶ú‡¶æ‡¶§ ‡¶¶‡ßç‡¶∞‡¶¨‡ßç‡¶Ø, ‡¶ö‡¶æ‡¶Æ‡¶°‡¶º‡¶æ ‡¶ì ‡¶ö‡¶æ‡¶Æ‡¶°‡¶º‡¶æ‡¶ú‡¶æ‡¶§ ‡¶¶‡ßç‡¶∞‡¶¨‡ßç‡¶Ø, ‡¶π‡¶ø‡¶Æ‡¶æ‡¶Ø‡¶º‡¶ø‡¶§ ‡¶Æ‡¶æ‡¶õ ‡¶ì ‡¶ö‡¶ø‡¶Ç‡¶°‡¶º‡¶ø‡•§"
            ]
        };

        // Track used content to avoid repetition
        let usedContent = {
            letters: [],
            words: [],
            sentences: [],
            paragraphs: []
        };

        // App State
        let currentWords = [];
        let currentWordIndex = 0;
        let currentCharIndex = 0;
        let errors = 0;
        let totalKeystrokes = 0;
        let startTime = null;
        let timerInterval = null;
        let currentMode = 'letters';
        let currentLayout = 'bijoy';
        let isGameActive = true;

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - initializing app');
            initializeApp();
        });

        function initializeApp() {
            console.log('Initializing app...');
            
            // Set up all event listeners
            setupEventListeners();
            
            // Load initial content
            loadContent(currentMode);
            
            // Focus on input
            setTimeout(() => {
                document.getElementById('typingInput').focus();
            }, 500);
        }

        function setupEventListeners() {
            console.log('Setting up event listeners...');
            
            // Feature cards event listeners
            document.querySelectorAll('.feature-card').forEach(card => {
                card.addEventListener('click', function() {
                    const type = this.getAttribute('data-type');
                    console.log('Feature card clicked:', type);
                    selectFeature(type);
                });
            });

            // Layout select event listener
            const layoutSelect = document.getElementById('layoutSelect');
            if (layoutSelect) {
                layoutSelect.addEventListener('change', function(e) {
                    currentLayout = this.value;
                    console.log('Layout changed to:', currentLayout);
                    updateLayoutInfo();
                });
                
                layoutSelect.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }

            // Level select event listener
            const levelSelect = document.getElementById('levelSelect');
            if (levelSelect) {
                levelSelect.addEventListener('change', function(e) {
                    const level = this.value;
                    console.log('Level changed to:', level);
                    selectFeature(level);
                });
                
                levelSelect.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }

            // Reset button
            document.getElementById('resetBtn').addEventListener('click', function() {
                console.log('Reset button clicked');
                resetGame();
            });

            // Tips button
            document.getElementById('tipsBtn').addEventListener('click', function() {
                console.log('Tips button clicked');
                showTips();
            });

            // Typing input - COMPLETELY REWRITTEN VERSION
            const typingInput = document.getElementById('typingInput');
            
            typingInput.addEventListener('keydown', function(e) {
                // Prevent space bar from causing issues
                if (e.key === ' ' || e.key === 'Spacebar') {
                    e.preventDefault();
                    
                    // For words mode, complete the word when space is pressed
                    if ((currentMode === 'words' || currentMode === 'sentences' || currentMode === 'paragraphs') && 
                        this.value.trim().length > 0) {
                        checkCompleteWord(this.value.trim());
                        this.value = '';
                    }
                    return;
                }
                
                // Allow reset with Escape key
                if (e.key === 'Escape') {
                    resetGame();
                }
                
                // Handle Enter key for word completion in words mode
                if (e.key === 'Enter' && 
                    (currentMode === 'words' || currentMode === 'sentences' || currentMode === 'paragraphs')) {
                    e.preventDefault();
                    if (this.value.trim().length > 0) {
                        checkCompleteWord(this.value.trim());
                        this.value = '';
                    }
                    return;
                }
            });

            typingInput.addEventListener('input', function(e) {
                if (!isGameActive) return;
                if (currentWords.length === 0 || currentWordIndex >= currentWords.length) return;

                const inputValue = e.target.value;
                
                // If input is empty, return
                if (inputValue.length === 0) {
                    return;
                }

                if (!startTime) {
                    startTime = new Date();
                    startTimer();
                }

                // Handle different modes
                switch(currentMode) {
                    case 'letters':
                        handleLettersMode(inputValue, e);
                        break;
                    case 'words':
                        // For words mode, we don't process character by character
                        // We only complete when space or enter is pressed (handled in keydown)
                        break;
                    case 'sentences':
                    case 'paragraphs':
                        handleTextMode(inputValue, e);
                        break;
                }
                
                updateProgress();
            });

            console.log('All event listeners set up successfully');
        }

        function handleLettersMode(inputValue, e) {
            const currentWord = currentWords[currentWordIndex];
            
            if (inputValue === currentWord) {
                handleCorrectLetter();
                e.target.value = '';
            } else if (inputValue.length >= currentWord.length) {
                handleWrongInput();
                e.target.value = '';
            }
        }

        function handleTextMode(inputValue, e) {
            const currentWord = currentWords[currentWordIndex];
            
            if (currentCharIndex < currentWord.length) {
                const targetChar = currentWord[currentCharIndex];
                const inputChar = inputValue[inputValue.length - 1];
                
                if (inputChar === targetChar) {
                    handleCorrectCharacter();
                } else {
                    handleWrongCharacter();
                }
                
                // Clear input after processing
                setTimeout(() => {
                    e.target.value = '';
                }, 10);
            }
        }

        function updateLayoutInfo() {
            const layoutNames = {
                'bijoy': '‡¶¨‡¶ø‡¶ú‡ßü ‡¶¨‡¶æ‡ßü‡¶æ‡¶®‡ßç‡¶®',
                'avro': '‡¶Ö‡¶≠‡ßç‡¶∞', 
                'proborno': '‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶§',
                'unicode': '‡¶á‡¶â‡¶®‡¶ø‡¶ï‡ßã‡¶°'
            };
            
            console.log(`Current layout: ${layoutNames[currentLayout]}`);
        }

        function selectFeature(type) {
            console.log('Selecting feature:', type);
            
            // Update active feature card
            document.querySelectorAll('.feature-card').forEach(card => {
                card.classList.remove('active');
            });
            
            const selectedCard = document.querySelector(`.feature-card[data-type="${type}"]`);
            if (selectedCard) {
                selectedCard.classList.add('active');
            }
            
            // Update level select to match
            const levelSelect = document.getElementById('levelSelect');
            if (levelSelect) {
                levelSelect.value = type;
            }
            
            // Load content
            currentMode = type;
            loadContent(type);
        }

        function resetGame() {
            console.log('Resetting game...');
            
            // Clear timer
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            // Reset all game state
            currentWordIndex = 0;
            currentCharIndex = 0;
            errors = 0;
            totalKeystrokes = 0;
            startTime = null;
            isGameActive = true;
            
            // Reset UI
            document.getElementById('wpm').textContent = '0';
            document.getElementById('accuracy').textContent = '100%';
            document.getElementById('timer').textContent = '0s';
            document.getElementById('score').textContent = '0';
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('typingInput').value = '';
            
            // Clear any error states and reload current content
            reloadCurrentContent();
            
            hideSuggestions();
            
            // Re-focus on input
            setTimeout(() => {
                const input = document.getElementById('typingInput');
                input.value = '';
                input.focus();
            }, 100);
        }

        function reloadCurrentContent() {
            // Clear all error states and reset the display
            const promptElement = document.getElementById('typingPrompt');
            promptElement.innerHTML = '';

            if (currentWords.length === 0) {
                promptElement.textContent = '‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
                return;
            }

            // Re-display the current words without any errors
            currentWords.forEach((word, index) => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'word';
                wordSpan.textContent = word;
                wordSpan.id = `word-${index}`;
                wordSpan.setAttribute('data-original', word);
                
                if (index === 0) {
                    wordSpan.classList.add('active');
                }
                
                promptElement.appendChild(wordSpan);
                
                if (index < currentWords.length - 1) {
                    promptElement.appendChild(document.createTextNode(' '));
                }
            });
        }

        function getRandomContent(contentArray, mode, count = null) {
            // Filter out recently used content
            const availableContent = contentArray.filter(item => 
                !usedContent[mode].includes(item)
            );
            
            // If all content has been used, reset the used list
            if (availableContent.length === 0) {
                usedContent[mode] = [];
                return getRandomContent(contentArray, mode, count);
            }
            
            let selectedContent;
            
            if (count) {
                // For modes that need multiple items (like words)
                selectedContent = [];
                const tempAvailable = [...availableContent];
                
                for (let i = 0; i < Math.min(count, tempAvailable.length); i++) {
                    const randomIndex = Math.floor(Math.random() * tempAvailable.length);
                    selectedContent.push(tempAvailable[randomIndex]);
                    tempAvailable.splice(randomIndex, 1);
                }
            } else {
                // For modes that need single item (like sentences, paragraphs)
                const randomIndex = Math.floor(Math.random() * availableContent.length);
                selectedContent = availableContent[randomIndex];
            }
            
            // Add to used content (limit to last 10 to avoid memory issues)
            if (Array.isArray(selectedContent)) {
                usedContent[mode].push(...selectedContent);
            } else {
                usedContent[mode].push(selectedContent);
            }
            
            // Keep only last 10 used items
            if (usedContent[mode].length > 10) {
                usedContent[mode] = usedContent[mode].slice(-10);
            }
            
            return selectedContent;
        }

        function loadContent(mode) {
            console.log('Loading content for mode:', mode);
            currentMode = mode;
            
            let content = [];
            
            switch(mode) {
                case 'letters':
                    // Show random 15 letters each time
                    const randomLetters = getRandomContent(contentDatabase.letters, 'letters', 15);
                    content = randomLetters;
                    break;
                    
                case 'words':
                    // Show random 12 words each time
                    const randomWords = getRandomContent(contentDatabase.words, 'words', 12);
                    content = randomWords;
                    break;
                    
                case 'sentences':
                    const randomSentence = getRandomContent(contentDatabase.sentences, 'sentences');
                    content = randomSentence.split(' ').filter(word => word.length > 0);
                    if (content.length > 0) {
                        const lastWord = content[content.length - 1];
                        content[content.length - 1] = lastWord.replace(/[‡•§,?!]/g, '');
                    }
                    break;
                    
                case 'paragraphs':
                    const randomParagraph = getRandomContent(contentDatabase.paragraphs, 'paragraphs');
                    content = randomParagraph.split(' ').filter(word => word.length > 0);
                    break;
                    
                default:
                    content = ['‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ', '‡¶ü‡¶æ‡¶á‡¶™‡¶ø‡¶Ç', '‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®'];
            }
            
            displayContent(content);
            resetGame();
        }

        function displayContent(content) {
            console.log('Displaying content:', content);
            currentWords = content;
            currentWordIndex = 0;
            currentCharIndex = 0;
            
            const promptElement = document.getElementById('typingPrompt');
            promptElement.innerHTML = '';

            if (content.length === 0) {
                promptElement.textContent = '‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
                return;
            }

            content.forEach((word, index) => {
                const wordSpan = document.createElement('span');
                wordSpan.className = 'word';
                wordSpan.textContent = word;
                wordSpan.id = `word-${index}`;
                wordSpan.setAttribute('data-original', word);
                
                if (index === 0) {
                    wordSpan.classList.add('active');
                }
                
                promptElement.appendChild(wordSpan);
                
                if (index < content.length - 1) {
                    promptElement.appendChild(document.createTextNode(' '));
                }
            });
        }

        function handleCorrectLetter() {
            const currentWordElement = document.getElementById(`word-${currentWordIndex}`);
            if (!currentWordElement) return;
            
            currentWordElement.classList.remove('error');
            currentWordElement.classList.add('completed');
            
            currentWordIndex++;
            totalKeystrokes++;
            
            if (currentWordIndex < currentWords.length) {
                const nextWordElement = document.getElementById(`word-${currentWordIndex}`);
                if (nextWordElement) {
                    nextWordElement.classList.add('active');
                }
            } else {
                handleCompletion();
            }
            
            updateStats();
        }

        function handleCorrectCharacter() {
            const currentWordElement = document.getElementById(`word-${currentWordIndex}`);
            if (!currentWordElement) return;
            
            currentWordElement.classList.remove('error');
            
            // Get the original word text
            const originalWord = currentWordElement.getAttribute('data-original');
            
            // Update the display to show progress
            let displayHTML = '';
            for (let i = 0; i < originalWord.length; i++) {
                if (i < currentCharIndex + 1) {
                    displayHTML += `<span class="char-highlight correct">${originalWord[i]}</span>`;
                } else {
                    displayHTML += originalWord[i];
                }
            }
            
            currentWordElement.innerHTML = displayHTML;
            
            currentCharIndex++;
            totalKeystrokes++;
            
            // Check if word is completed
            if (currentCharIndex >= originalWord.length) {
                currentWordElement.classList.remove('active');
                currentWordElement.classList.add('completed');
                
                currentWordIndex++;
                currentCharIndex = 0;
                
                if (currentWordIndex < currentWords.length) {
                    const nextWordElement = document.getElementById(`word-${currentWordIndex}`);
                    if (nextWordElement) {
                        nextWordElement.classList.add('active');
                        // Reset the next word to show full text
                        nextWordElement.innerHTML = nextWordElement.getAttribute('data-original');
                    }
                } else {
                    handleCompletion();
                }
            }
            
            updateStats();
        }

        function handleWrongCharacter() {
            const currentWordElement = document.getElementById(`word-${currentWordIndex}`);
            if (!currentWordElement) return;
            
            currentWordElement.classList.add('error');
            
            errors++;
            totalKeystrokes++;
            
            // Show error briefly
            setTimeout(() => {
                currentWordElement.classList.remove('error');
            }, 500);
            
            updateStats();
        }

        function handleWrongInput() {
            const currentWordElement = document.getElementById(`word-${currentWordIndex}`);
            currentWordElement.classList.add('error');
            errors++;
            totalKeystrokes++;

            setTimeout(() => {
                currentWordElement.classList.remove('error');
            }, 500);

            updateStats();
        }

        // COMPLETELY REWRITTEN FUNCTION - This fixes the special character issue
        function checkCompleteWord(typedWord) {
            const currentWord = currentWords[currentWordIndex];
            const currentWordElement = document.getElementById(`word-${currentWordIndex}`);
            
            if (!currentWordElement) return;
            
            // Debug logging for special characters
            console.log('Typed:', typedWord, 'Expected:', currentWord);
            console.log('Typed length:', typedWord.length, 'Expected length:', currentWord.length);
            
            // SPECIAL CHECK FOR BENGALI CHARACTERS: ‡ßú, ‡ßù, ‡ßü, ‡¶∞
            // Let's check if these specific characters are causing issues
            const specialChars = ['‡ßú', '‡ßù', '‡ßü', '‡¶∞'];
            let hasSpecialChar = false;
            
            for (let char of specialChars) {
                if (currentWord.includes(char)) {
                    hasSpecialChar = true;
                    console.log(`Found special character: ${char} in word: ${currentWord}`);
                    break;
                }
            }
            
            // Compare character by character to ensure accuracy
            let isCorrect = true;
            
            if (typedWord.length !== currentWord.length) {
                isCorrect = false;
                console.log('Length mismatch - Typed:', typedWord.length, 'Expected:', currentWord.length);
            } else {
                for (let i = 0; i < typedWord.length; i++) {
                    if (typedWord[i] !== currentWord[i]) {
                        isCorrect = false;
                        console.log(`Character mismatch at position ${i}: '${typedWord[i]}' vs '${currentWord[i]}'`);
                        console.log(`Char codes - Typed: ${typedWord.charCodeAt(i)}, Expected: ${currentWord.charCodeAt(i)}`);
                        break;
                    }
                }
            }
            
            if (isCorrect) {
                // Correct word
                console.log('Word is CORRECT!');
                currentWordElement.classList.remove('error', 'active');
                currentWordElement.classList.add('completed');
                currentWordElement.innerHTML = currentWord;
                
                currentWordIndex++;
                totalKeystrokes++;
                
                if (currentWordIndex < currentWords.length) {
                    const nextWordElement = document.getElementById(`word-${currentWordIndex}`);
                    if (nextWordElement) {
                        nextWordElement.classList.add('active');
                        nextWordElement.innerHTML = nextWordElement.getAttribute('data-original');
                    }
                } else {
                    handleCompletion();
                }
            } else {
                // Wrong word
                console.log('Word is WRONG!');
                currentWordElement.classList.add('error');
                errors++;
                totalKeystrokes++;
                
                // Show correct word briefly
                const originalWord = currentWordElement.getAttribute('data-original');
                currentWordElement.innerHTML = originalWord;
                setTimeout(() => {
                    currentWordElement.innerHTML = originalWord;
                    currentWordElement.classList.remove('error');
                }, 1000);
            }
            
            updateStats();
            updateProgress();
        }

        function updateStats() {
            const accuracy = totalKeystrokes === 0 ? 100 : 
                Math.round(((totalKeystrokes - errors) / totalKeystrokes) * 100);
            
            document.getElementById('accuracy').textContent = accuracy + '%';
            
            const progress = currentWordIndex / currentWords.length;
            const score = Math.max(0, Math.round(progress * 1000) - (errors * 5));
            document.getElementById('score').textContent = score;
        }

        function updateProgress() {
            const progress = (currentWordIndex / currentWords.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function startTimer() {
            timerInterval = setInterval(() => {
                const now = new Date();
                const seconds = Math.floor((now - startTime) / 1000);
                document.getElementById('timer').textContent = seconds + 's';
                
                const minutes = seconds / 60;
                const wordsTyped = currentWordIndex;
                const wpm = minutes > 0 ? Math.round((wordsTyped / 5) / minutes) : 0;
                document.getElementById('wpm').textContent = wpm;
            }, 1000);
        }

        function handleCompletion() {
            isGameActive = false;
            clearInterval(timerInterval);
            
            const finalWPM = document.getElementById('wpm').textContent;
            const finalAccuracy = document.getElementById('accuracy').textContent;
            const finalTime = document.getElementById('timer').textContent;
            const finalScore = document.getElementById('score').textContent;
            
            setTimeout(() => {
                alert(`‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶á ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§\n\n‡¶Æ‡ßã‡¶ü ‡¶∏‡¶Æ‡¶Ø‡¶º: ${finalTime}\n‡¶ó‡¶§‡¶ø: ${finalWPM} WPM\n‡¶∏‡¶†‡¶ø‡¶ï‡¶§‡¶æ: ${finalAccuracy}\n‡¶∏‡ßç‡¶ï‡ßã‡¶∞: ${finalScore}\n\n‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®!`);
                // Automatically load new content after completion
                loadContent(currentMode);
            }, 500);
        }

        function showTips() {
            const tips = [
                '‡¶Ü‡¶ô‡ßç‡¶ó‡ßÅ‡¶≤ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® - ‡¶π‡ßã‡¶Æ ‡¶∞‡ßã technique ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®',
                '‡¶Æ‡¶®‡ßã‡¶Ø‡ßã‡¶ó ‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßá ‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ó‡¶§‡¶ø‡¶∞ ‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡ßÅ‡¶≤‡¶§‡¶æ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£',
                '‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® - ‡¶¶‡¶ø‡¶®‡ßá ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßß‡ß´-‡ß©‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü',
                '‡¶≠‡ßÅ‡¶≤ ‡¶π‡¶≤‡ßá ‡¶π‡¶§‡¶æ‡¶∂ ‡¶π‡¶¨‡ßá‡¶® ‡¶®‡¶æ, ‡¶≠‡ßÅ‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶®',
                '‡¶ü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶™‡¶ø‡¶† ‡¶∏‡ßã‡¶ú‡¶æ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶†‡¶ø‡¶ï posture maintain ‡¶ï‡¶∞‡ßÅ‡¶®',
                '‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ï‡ßÄ ‡¶ö‡¶æ‡¶™‡¶§‡ßá ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ pressure ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®',
                '‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá ‡¶§‡¶æ‡¶ï‡¶æ‡¶®, ‡¶ï‡ßÄ-‡¶¨‡ßã‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá ‡¶®‡¶Ø‡¶º',
                '‡¶ó‡¶§‡¶ø ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®, ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Ö‡¶®‡ßá‡¶ï‡¶ü‡¶æ increase ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ'
            ];
            
            const suggestionsDiv = document.getElementById('suggestions');
            const contentDiv = document.getElementById('suggestionsContent');
            
            contentDiv.innerHTML = tips.map(tip => 
                `<div class="suggestion-item">${tip}</div>`
            ).join('');
            
            suggestionsDiv.style.display = 'block';
        }

        function hideSuggestions() {
            document.getElementById('suggestions').style.display = 'none';
        }

        // Auto-focus on input when clicking anywhere in container
        document.addEventListener('click', function(e) {
            if (e.target.closest('.container') && !e.target.closest('select')) {
                document.getElementById('typingInput').focus();
            }
        });
    </script>
</body>
</html>


